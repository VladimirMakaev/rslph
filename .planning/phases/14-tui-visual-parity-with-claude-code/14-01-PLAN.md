---
phase: 14-tui-visual-parity
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - Cargo.toml
  - src/tui/mod.rs
  - src/tui/theme.rs
autonomous: true

must_haves:
  truths:
    - "All TUI colors come from a single theme module"
    - "Claude brand colors (Crail, Cloudy) are defined as constants"
    - "Semantic color functions exist for roles (assistant, thinking, tool)"
    - "Model tier symbols are defined for status display"
  artifacts:
    - path: "src/tui/theme.rs"
      provides: "Centralized color palette and style functions"
      min_lines: 50
      exports: ["colors", "symbols", "styles"]
  key_links:
    - from: "src/tui/mod.rs"
      to: "src/tui/theme.rs"
      via: "pub mod theme export"
      pattern: "pub mod theme"
---

<objective>
Create a centralized theme module with Claude brand colors and semantic styles.

Purpose: Establish the foundation for consistent visual styling across all TUI components. The theme module serves as the single source of truth for colors, symbols, and styles.

Output: New `src/tui/theme.rs` with color constants, model tier symbols, and style functions.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/14-tui-visual-parity-with-claude-code/14-RESEARCH.md
@src/tui/mod.rs
@src/tui/widgets/thread_view.rs
@src/tui/conversation.rs
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add throbber-widgets-tui dependency</name>
  <files>Cargo.toml</files>
  <action>
Add throbber-widgets-tui v0.10.0 to dependencies section:

```toml
throbber-widgets-tui = "0.10.0"
```

This dependency is compatible with ratatui 0.30 and will be used for animated spinners in later plans.
  </action>
  <verify>`cargo check` succeeds with new dependency</verify>
  <done>throbber-widgets-tui added to Cargo.toml and builds successfully</done>
</task>

<task type="auto">
  <name>Task 2: Create theme.rs with Claude brand colors</name>
  <files>src/tui/theme.rs</files>
  <action>
Create new file `src/tui/theme.rs` with the following structure:

1. **colors module** - Define color constants:
   - `CRAIL: Color = Color::Rgb(193, 95, 60)` - Claude's signature orange (#C15F3C)
   - `CLOUDY: Color = Color::Rgb(177, 173, 161)` - Warm gray accent (#B1ADA1)
   - `PAMPAS: Color = Color::Rgb(244, 243, 238)` - Light cream (#F4F3EE)
   - Semantic colors for roles:
     - `THINKING: Color = Color::DarkGray`
     - `TOOL_CALL: Color = Color::Yellow`
     - `TOOL_RESULT: Color = Color::Cyan`
     - `ASSISTANT: Color = CRAIL` (use brand color)
     - `USER: Color = Color::Cyan`
     - `SYSTEM: Color = CLOUDY`

2. **symbols module** - Define model tier indicators:
   - `TIER_HIGH: &str = "◆"` - Filled diamond for Opus
   - `TIER_MID: &str = "◇"` - Empty diamond for Sonnet
   - `TIER_LOW: &str = "○"` - Circle for Haiku/unknown
   - Add `model_tier_indicator(model_name: &str) -> &'static str` function

3. **styles module** - Define style functions:
   - `fn assistant() -> Style` - Returns style with ASSISTANT color
   - `fn thinking() -> Style` - Returns italic DarkGray style
   - `fn tool_header() -> Style` - Returns bold yellow style
   - `fn tool_result() -> Style` - Returns cyan style
   - `fn system() -> Style` - Returns CLOUDY color style
   - `fn user() -> Style` - Returns bold cyan style

Add doc comments explaining each section.
  </action>
  <verify>
`cargo check` succeeds.
`cargo doc --document-private-items` generates documentation for theme module.
  </verify>
  <done>theme.rs contains colors, symbols, and styles modules with all documented items</done>
</task>

<task type="auto">
  <name>Task 3: Export theme module from tui/mod.rs</name>
  <files>src/tui/mod.rs</files>
  <action>
Add theme module to src/tui/mod.rs:

1. Add `pub mod theme;` declaration near the top with other module declarations
2. Position it logically (after app, before conversation or similar)

The module should be public so other TUI files can import theme constants.
  </action>
  <verify>
`cargo build` succeeds.
`use crate::tui::theme::colors::CRAIL;` compiles in any TUI file.
  </verify>
  <done>theme module is exported from tui/mod.rs and accessible throughout codebase</done>
</task>

</tasks>

<verification>
```bash
# Check that the theme module compiles
cargo check

# Verify theme module structure
grep -n "pub mod colors" src/tui/theme.rs
grep -n "pub mod symbols" src/tui/theme.rs
grep -n "pub mod styles" src/tui/theme.rs

# Verify color constants exist
grep -n "CRAIL" src/tui/theme.rs
grep -n "CLOUDY" src/tui/theme.rs

# Verify model tier function exists
grep -n "model_tier_indicator" src/tui/theme.rs

# Verify export in mod.rs
grep -n "pub mod theme" src/tui/mod.rs
```
</verification>

<success_criteria>
1. throbber-widgets-tui v0.10.0 is in Cargo.toml dependencies
2. src/tui/theme.rs exists with colors, symbols, and styles modules
3. Claude brand colors (CRAIL, CLOUDY) defined as RGB constants
4. Model tier indicator function returns correct symbols for opus/sonnet/haiku
5. Style functions return appropriate ratatui Style objects
6. Theme module is exported from src/tui/mod.rs
7. `cargo build` succeeds with no warnings in theme.rs
</success_criteria>

<output>
After completion, create `.planning/phases/14-tui-visual-parity-with-claude-code/14-01-SUMMARY.md`
</output>
